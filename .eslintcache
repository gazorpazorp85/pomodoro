[{"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\index.js":"1","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\App.js":"2","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\reportWebVitals.js":"3","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\ModesMenu.js":"4","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal.js":"5","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\TimerController.js":"6","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\services\\TimerService.js":"7","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\services\\Utils.js":"8","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\FontIcon.js":"9","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\ColorIcon.js":"10","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\Timer.js":"11","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\Timer\\TimerRing.js":"12","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\SoundIcon.js":"13","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\SettingsModalSectionTemplate.js":"14","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\mapSettingsModalDynamicComponent.js":"15"},{"size":508,"mtime":1610007721570,"results":"16","hashOfConfig":"17"},{"size":2947,"mtime":1610731145371,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":499162500000,"results":"19","hashOfConfig":"17"},{"size":930,"mtime":1610315621965,"results":"20","hashOfConfig":"17"},{"size":2682,"mtime":1610730898949,"results":"21","hashOfConfig":"17"},{"size":1246,"mtime":1610190069557,"results":"22","hashOfConfig":"17"},{"size":503,"mtime":1610279969840,"results":"23","hashOfConfig":"17"},{"size":226,"mtime":1610132809484,"results":"24","hashOfConfig":"17"},{"size":362,"mtime":1610644007918,"results":"25","hashOfConfig":"17"},{"size":367,"mtime":1610643994756,"results":"26","hashOfConfig":"17"},{"size":3910,"mtime":1610477366875,"results":"27","hashOfConfig":"17"},{"size":841,"mtime":1610275890061,"results":"28","hashOfConfig":"17"},{"size":1358,"mtime":1610734213791,"results":"29","hashOfConfig":"17"},{"size":1044,"mtime":1610734868205,"results":"30","hashOfConfig":"17"},{"size":244,"mtime":1610643625308,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"cqy4y5",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\index.js",[],["64","65"],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\App.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\reportWebVitals.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\ModesMenu.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\TimerController.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\services\\TimerService.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\services\\Utils.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\FontIcon.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\ColorIcon.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\Timer.js",["66","67"],"import { useState, useEffect, useRef } from 'react';\r\nimport { TimerRing } from './Timer/TimerRing';\r\n\r\nfunction Timer({ settings }) {\r\n\r\n    const targetTime = settings.time[settings.currentMode] * 60;\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [timeLeft, setTimeLeft] = useState(null);\r\n    const [isTimerWorking, setIsTimerWorking] = useState(false);\r\n    const [circleDasharray, setCircleDasharray] = useState('283');\r\n    const interval = useRef(null);\r\n    const alarmSound = new Audio(`sounds/alarm${settings.sound}.mp3`);\r\n\r\n    const formatTime = () => {\r\n        const time = targetTime - currentTime;\r\n        const mins = Math.floor(time / 60);\r\n        const secs = time % 60;\r\n        const formatedMins = (mins < 10) ? `0${mins}` : mins;\r\n        const formatedSecs = (secs < 10) ? `0${secs}` : secs;\r\n        return `${formatedMins}:${formatedSecs}`\r\n    }\r\n\r\n    const timerHandler = () => {\r\n        interval.current = setInterval(() => {\r\n            setCurrentTime(prevCurrentTime => prevCurrentTime + 1);\r\n        }, 1000)\r\n    }\r\n\r\n    const isTimerWorkingHandler = () => {\r\n        setIsTimerWorking(prevIsTimerWorking => !prevIsTimerWorking)\r\n    }\r\n\r\n    const isTimeOver = () => {\r\n        if (targetTime - currentTime <= 0) {\r\n            alarmSound.play()\r\n                .catch(err => console.log(err));\r\n            clearInterval(interval.current);\r\n        } else {\r\n            setTimeLeft(targetTime - currentTime);\r\n        }\r\n    }\r\n\r\n    const getRawTimeFraction = () => {\r\n        if (timeLeft === targetTime) return 0.99999999;\r\n        const rawTimeFraction = timeLeft / targetTime;\r\n        return rawTimeFraction - (1 / targetTime) * (1 - rawTimeFraction);\r\n    }\r\n    const updateCircleDasharray = () => {\r\n        const rawTimeFraction = getRawTimeFraction();\r\n        const newCircleDasharray = `${(((rawTimeFraction * 283)).toFixed(0))} 283`;\r\n        setCircleDasharray(newCircleDasharray);\r\n    }\r\n\r\n    const renderTimerBtnText = () => {\r\n        return isTimerWorking ? 'pause' : 'start';\r\n    }\r\n\r\n    const restartTimer = () => {\r\n        alarmSound.pause();\r\n        setCurrentTime(0);\r\n        setTimeLeft(null);\r\n        setIsTimerWorking(false);\r\n        setCircleDasharray('283');\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isTimerWorking) {\r\n            timerHandler();\r\n        } else {\r\n            clearInterval(interval.current);\r\n        }\r\n    }, [isTimerWorking]);\r\n\r\n    useEffect(() => {\r\n        isTimeOver();\r\n    }, [currentTime]);\r\n\r\n    useEffect(() => {\r\n        updateCircleDasharray();\r\n    }, [timeLeft])\r\n\r\n    const { color, font } = settings;\r\n\r\n    return (\r\n        <div className=\"flex column center align-center timer-container\">\r\n            <div className=\"flex column center align-center timer-container-inner-circle\">\r\n                <TimerRing circleDasharray={circleDasharray} color={color} />\r\n                <div className=\"flex column center align-center inner-timer-container\">\r\n                    <div className=\"flex center timer-time\" style={{ fontFamily: font }}>{formatTime()}</div>\r\n                    {targetTime - currentTime > 0 ?\r\n                        <div\r\n                            className=\"pointer uppercase time-btn\"\r\n                            onClick={isTimerWorkingHandler}\r\n                            style={{ fontFamily: font }}\r\n                        >\r\n                            {renderTimerBtnText()}\r\n                        </div> :\r\n                        <div\r\n                            className=\"pointer uppercase reset-btn\"\r\n                            onClick={restartTimer}\r\n                            style={{ fontFamily: font }}\r\n                        >\r\n                            restart\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { Timer }","C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\Timer\\TimerRing.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\SoundIcon.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\SettingsModalSectionTemplate.js",[],"C:\\Users\\paolo\\Documents\\projects\\pomodoro\\src\\cmps\\SettingsModal\\mapSettingsModalDynamicComponent.js",[],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":76,"column":8,"nodeType":"74","endLine":76,"endColumn":21,"suggestions":"75"},{"ruleId":"72","severity":1,"message":"76","line":80,"column":8,"nodeType":"74","endLine":80,"endColumn":18,"suggestions":"77"},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'isTimeOver'. Either include it or remove the dependency array.","ArrayExpression",["80"],"React Hook useEffect has a missing dependency: 'updateCircleDasharray'. Either include it or remove the dependency array.",["81"],"no-global-assign","no-unsafe-negation",{"desc":"82","fix":"83"},{"desc":"84","fix":"85"},"Update the dependencies array to be: [currentTime, isTimeOver]",{"range":"86","text":"87"},"Update the dependencies array to be: [timeLeft, updateCircleDasharray]",{"range":"88","text":"89"},[2512,2525],"[currentTime, isTimeOver]",[2595,2605],"[timeLeft, updateCircleDasharray]"]